/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package jplanner;

import java.awt.CardLayout;
import java.math.BigDecimal;
import java.util.ArrayList;
import java.util.List;
import javax.swing.JOptionPane;
import jplanner.domain.Aktivitas;
import jplanner.domain.GrupResource;
import jplanner.domain.Proyek;
import jplanner.domain.Resource;
import jplanner.modul.AktifitasTableModel;
import jplanner.modul.GrupTableModul;
import jplanner.modul.ProyekTableModel;
import jplanner.modul.ResourceTableModel;

/**
 *
 * @author martinusadyh
 */
public class MainForm extends javax.swing.JFrame {
    
    private Proyek proyek;
    private GrupResource grupResource;
    private Resource resource;
    private Aktivitas aktivitas;
    
    private List<Proyek> proyeks;
    private List<GrupResource> grupResources;
    private List<Resource> resources;
    private List<Aktivitas> aktivitases;

    /**
     * Creates new form MainForm
     */
    public MainForm() {
        initComponents();
        setExtendedState(MAXIMIZED_BOTH);
        fetchProyek();
    }
    
    private void loadFormToDomainProyek() {
        proyek = new Proyek();
        proyek.setNamaProyek(txtNamaProyek.getText());
        proyek.setJmlOrg(Integer.valueOf(txtJmlOrg.getText()));
        proyek.setBatasHari(Integer.valueOf(txtBatasHari.getText()));
        proyek.setBatasBiaya(new BigDecimal(txtBatasBiaya.getText()));
        proyek.setBudget(new BigDecimal(txtBudget.getText()));
        proyek.setMinProfit(new BigDecimal(txtMinProfit.getText()));
    }
    
    private void loadFormToDomainResource() {
        resource = new Resource();
        resource.setGrupResource((GrupResource) cmbGrup.getSelectedItem());
        resource.setType(cmbTipe.getSelectedItem().toString());
        resource.setNama(txtNamaResource.getText());
        resource.setBiaya(new BigDecimal(txtBiaya.getText()));
    }
    
    private void resetFormProyek() {
        txtNamaProyek.setText("");
        txtJmlOrg.setText("");
        txtBatasHari.setText("");
        txtBatasBiaya.setText("");
        txtBudget.setText("");
        txtMinProfit.setText("");
    }
    
    private void resetFormResource() {
        txtNamaResource.setText("");
        txtBiaya.setText("");
    }
    
    private Boolean validateFormProyek() {
        if (txtNamaProyek.getText().trim().length() > 0 && 
            txtJmlOrg.getText().trim().length() > 0 && 
            txtBatasHari.getText().trim().length() > 0 && 
            txtBatasBiaya.getText().trim().length() > 0 && 
            txtBudget.getText().trim().length() > 0) {
            return true;
        } else {
            return false;
        }
    }
    
    private Boolean validateFormResource() {
        if (cmbGrup.getSelectedItem() != null && 
            cmbTipe.getSelectedItem() != null &&
            txtNamaResource.getText().trim().length() > 0 &&
            txtBiaya.getText().trim().length() > 0) {
            return true;
        } else {
            return false;
        }
    }
    
    private void fetchProyek() {
        proyeks = new ArrayList<Proyek>();
        proyeks = JPlanner.getjPlannerService().findAll(Proyek.class.getName());
        tblProyek.setModel(new ProyekTableModel(proyeks));
    }
    
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        jSplitPane1 = new javax.swing.JSplitPane();
        jPanel1 = new javax.swing.JPanel();
        btnProyek = new javax.swing.JToggleButton();
        btnGrup = new javax.swing.JToggleButton();
        btnResource = new javax.swing.JToggleButton();
        btnAktivitas = new javax.swing.JToggleButton();
        btnSimulasi = new javax.swing.JToggleButton();
        jPanel2 = new javax.swing.JPanel();
        pnlProyek = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        txtNamaProyek = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        txtBatasHari = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        txtJmlOrg = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        txtBatasBiaya = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        txtBudget = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        txtMinProfit = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblProyek = new javax.swing.JTable();
        jToolBar1 = new javax.swing.JToolBar();
        btnSimpanProyek = new javax.swing.JButton();
        btnRefreshProyek = new javax.swing.JButton();
        pnlGrup = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        tblGrupResource = new javax.swing.JTable();
        jToolBar2 = new javax.swing.JToolBar();
        btnSimpanGrupResource = new javax.swing.JButton();
        jLabel7 = new javax.swing.JLabel();
        txtNmGrup = new javax.swing.JTextField();
        pnlResource = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        tblResource = new javax.swing.JTable();
        jToolBar3 = new javax.swing.JToolBar();
        btnSimpanResource = new javax.swing.JButton();
        cmbGrup = new javax.swing.JComboBox();
        jLabel9 = new javax.swing.JLabel();
        cmbTipe = new javax.swing.JComboBox();
        jLabel10 = new javax.swing.JLabel();
        txtNamaResource = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        txtBiaya = new javax.swing.JTextField();
        pnlAktivitas = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        cmbAktivResource = new javax.swing.JComboBox();
        jLabel16 = new javax.swing.JLabel();
        jScrollPane4 = new javax.swing.JScrollPane();
        tblAktivitas = new javax.swing.JTable();
        jToolBar4 = new javax.swing.JToolBar();
        btnSimpanAktivitas = new javax.swing.JButton();
        btnRefresh = new javax.swing.JButton();
        jLabel17 = new javax.swing.JLabel();
        txtNmAktivitas = new javax.swing.JTextField();
        spinnerDurasi = new javax.swing.JComboBox();
        txtPredesesor = new javax.swing.JTextField();
        btnLookup = new javax.swing.JButton();
        btnLookupProyek = new javax.swing.JButton();
        jLabel18 = new javax.swing.JLabel();
        txtParentTask = new javax.swing.JTextField();
        btnLookupParentTask = new javax.swing.JButton();
        txtAktivitasProyek = new javax.swing.JTextField();
        pnlSimulasi = new javax.swing.JPanel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("jPlanner");

        jSplitPane1.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        jSplitPane1.setDividerSize(1);

        jPanel1.setBackground(javax.swing.UIManager.getDefaults().getColor("Button.highlight"));
        jPanel1.setMinimumSize(new java.awt.Dimension(167, 487));

        buttonGroup1.add(btnProyek);
        btnProyek.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Proyek.png"))); // NOI18N
        btnProyek.setSelected(true);
        btnProyek.setText("Proyek");
        btnProyek.setToolTipText("Proyek");
        btnProyek.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnProyek.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnProyek.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnProyekActionPerformed(evt);
            }
        });

        buttonGroup1.add(btnGrup);
        btnGrup.setIcon(new javax.swing.ImageIcon(getClass().getResource("/grup_resource.png"))); // NOI18N
        btnGrup.setText("Grup");
        btnGrup.setToolTipText("Grup Resource");
        btnGrup.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnGrup.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnGrup.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnGrupActionPerformed(evt);
            }
        });

        buttonGroup1.add(btnResource);
        btnResource.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resource.png"))); // NOI18N
        btnResource.setText("Resource");
        btnResource.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnResource.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnResource.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnResourceActionPerformed(evt);
            }
        });

        buttonGroup1.add(btnAktivitas);
        btnAktivitas.setIcon(new javax.swing.ImageIcon(getClass().getResource("/aktivitas.png"))); // NOI18N
        btnAktivitas.setText("Aktivitas");
        btnAktivitas.setToolTipText("Aktivitas");
        btnAktivitas.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnAktivitas.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnAktivitas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAktivitasActionPerformed(evt);
            }
        });

        buttonGroup1.add(btnSimulasi);
        btnSimulasi.setIcon(new javax.swing.ImageIcon(getClass().getResource("/applications-system.png"))); // NOI18N
        btnSimulasi.setText("Simulasi");
        btnSimulasi.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnSimulasi.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnSimulasi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSimulasiActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnProyek, javax.swing.GroupLayout.DEFAULT_SIZE, 143, Short.MAX_VALUE)
                    .addComponent(btnGrup, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnResource, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnAktivitas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnSimulasi, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnProyek)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnGrup)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnResource)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnAktivitas)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnSimulasi)
                .addContainerGap(231, Short.MAX_VALUE))
        );

        jPanel1Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {btnAktivitas, btnGrup, btnProyek, btnResource});

        jSplitPane1.setLeftComponent(jPanel1);

        jPanel2.setLayout(new java.awt.CardLayout());

        pnlProyek.setBorder(javax.swing.BorderFactory.createTitledBorder("Proyek"));

        jLabel1.setText("<html>Nama Proyek <font color=\"red\">*</font></html>");

        jLabel2.setText("<html>Batas Hari <font color=\"red\">*</font></html>");

        jLabel3.setText("<html>Jml. Orang <font color=\"red\">*</font></html>");

        jLabel4.setText("<html>Batas Biaya <font color=\"red\">*</font></html>");

        jLabel5.setText("<html>Budget <font color=\"red\">*</font></html>");

        jLabel6.setText("<html>Min. Profit <font color=\"red\">*</font></html>");

        tblProyek.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Nama Proyek", "Batas Hari", "Jml. Orang", "Batas Biaya", "Budget", "Min. Profit"
            }
        ));
        tblProyek.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        jScrollPane1.setViewportView(tblProyek);

        jToolBar1.setFloatable(false);
        jToolBar1.setRollover(true);

        btnSimpanProyek.setIcon(new javax.swing.ImageIcon(getClass().getResource("/accept.png"))); // NOI18N
        btnSimpanProyek.setText("Simpan");
        btnSimpanProyek.setFocusable(false);
        btnSimpanProyek.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        btnSimpanProyek.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnSimpanProyek.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSimpanProyekActionPerformed(evt);
            }
        });
        jToolBar1.add(btnSimpanProyek);

        btnRefreshProyek.setIcon(new javax.swing.ImageIcon(getClass().getResource("/arrow_refresh.png"))); // NOI18N
        btnRefreshProyek.setText("Refresh");
        btnRefreshProyek.setFocusable(false);
        btnRefreshProyek.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        btnRefreshProyek.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnRefreshProyek.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRefreshProyekActionPerformed(evt);
            }
        });
        jToolBar1.add(btnRefreshProyek);

        javax.swing.GroupLayout pnlProyekLayout = new javax.swing.GroupLayout(pnlProyek);
        pnlProyek.setLayout(pnlProyekLayout);
        pnlProyekLayout.setHorizontalGroup(
            pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlProyekLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 753, Short.MAX_VALUE)
                    .addGroup(pnlProyekLayout.createSequentialGroup()
                        .addGroup(pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(txtNamaProyek, javax.swing.GroupLayout.DEFAULT_SIZE, 176, Short.MAX_VALUE)
                            .addComponent(txtBatasHari)
                            .addComponent(txtJmlOrg))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnlProyekLayout.createSequentialGroup()
                                .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtBatasBiaya, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(pnlProyekLayout.createSequentialGroup()
                                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtBudget, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(pnlProyekLayout.createSequentialGroup()
                                .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtMinProfit, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        pnlProyekLayout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jLabel1, jLabel2, jLabel3, jLabel4, jLabel5, jLabel6});

        pnlProyekLayout.setVerticalGroup(
            pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlProyekLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtNamaProyek, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtBatasBiaya, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtBatasHari, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtBudget, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlProyekLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtJmlOrg, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtMinProfit, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 411, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanel2.add(pnlProyek, "PROYEK");

        pnlGrup.setBorder(javax.swing.BorderFactory.createTitledBorder("Grup Resource"));

        tblGrupResource.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Nama", "Jml. Barang", "Jml. Orang", "Tot. Resource", "Tot. Available"
            }
        ));
        jScrollPane2.setViewportView(tblGrupResource);

        jToolBar2.setFloatable(false);
        jToolBar2.setRollover(true);

        btnSimpanGrupResource.setIcon(new javax.swing.ImageIcon(getClass().getResource("/accept.png"))); // NOI18N
        btnSimpanGrupResource.setText("Simpan");
        btnSimpanGrupResource.setFocusable(false);
        btnSimpanGrupResource.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        btnSimpanGrupResource.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnSimpanGrupResource.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSimpanGrupResourceActionPerformed(evt);
            }
        });
        jToolBar2.add(btnSimpanGrupResource);

        jLabel7.setText("<html>Nama Grup <font color=\"red\">*</font></html>");

        javax.swing.GroupLayout pnlGrupLayout = new javax.swing.GroupLayout(pnlGrup);
        pnlGrup.setLayout(pnlGrupLayout);
        pnlGrupLayout.setHorizontalGroup(
            pnlGrupLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlGrupLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlGrupLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 753, Short.MAX_VALUE)
                    .addComponent(jToolBar2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(pnlGrupLayout.createSequentialGroup()
                        .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtNmGrup, javax.swing.GroupLayout.PREFERRED_SIZE, 182, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        pnlGrupLayout.setVerticalGroup(
            pnlGrupLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlGrupLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlGrupLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtNmGrup, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(14, 14, 14)
                .addComponent(jToolBar2, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 465, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanel2.add(pnlGrup, "GRUP");

        pnlResource.setBorder(javax.swing.BorderFactory.createTitledBorder("Resource"));

        jLabel8.setText("<html>Grup <font color=\"red\">*</font></html>");

        tblResource.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Nama Grup", "Tipe", "Nama", "Biaya"
            }
        ));
        jScrollPane3.setViewportView(tblResource);

        jToolBar3.setFloatable(false);
        jToolBar3.setRollover(true);

        btnSimpanResource.setIcon(new javax.swing.ImageIcon(getClass().getResource("/accept.png"))); // NOI18N
        btnSimpanResource.setText("Simpan");
        btnSimpanResource.setFocusable(false);
        btnSimpanResource.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        btnSimpanResource.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnSimpanResource.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSimpanResourceActionPerformed(evt);
            }
        });
        jToolBar3.add(btnSimpanResource);

        jLabel9.setText("<html>Tipe <font color=\"red\">*</font></html>");

        cmbTipe.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "ORANG", "BARANG" }));

        jLabel10.setText("<html>Nama<font color=\"red\">*</font></html>");
        jLabel10.setToolTipText("");

        jLabel11.setText("<html>Biaya <font color=\"red\">*</font></html>");

        javax.swing.GroupLayout pnlResourceLayout = new javax.swing.GroupLayout(pnlResource);
        pnlResource.setLayout(pnlResourceLayout);
        pnlResourceLayout.setHorizontalGroup(
            pnlResourceLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlResourceLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlResourceLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 753, Short.MAX_VALUE)
                    .addComponent(jToolBar3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(pnlResourceLayout.createSequentialGroup()
                        .addGroup(pnlResourceLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(pnlResourceLayout.createSequentialGroup()
                                .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(cmbGrup, javax.swing.GroupLayout.PREFERRED_SIZE, 132, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(pnlResourceLayout.createSequentialGroup()
                                .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(cmbTipe, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(pnlResourceLayout.createSequentialGroup()
                                .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtNamaResource))
                            .addGroup(pnlResourceLayout.createSequentialGroup()
                                .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtBiaya)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );

        pnlResourceLayout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jLabel10, jLabel11, jLabel8, jLabel9});

        pnlResourceLayout.setVerticalGroup(
            pnlResourceLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlResourceLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlResourceLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmbGrup, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlResourceLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmbTipe, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlResourceLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtNamaResource, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlResourceLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtBiaya, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jToolBar3, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanel2.add(pnlResource, "RESOURCE");

        pnlAktivitas.setBorder(javax.swing.BorderFactory.createTitledBorder("Aktivitas"));

        jLabel12.setText("Proyek");

        jLabel13.setText("Durasi");

        jLabel14.setText("(hari)");

        jLabel15.setText("Resource");

        jLabel16.setText("Predesesor");

        tblAktivitas.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Proyek", "Aktivitas", "Resource", "Tipe", "Predesesor"
            }
        ));
        jScrollPane4.setViewportView(tblAktivitas);

        jToolBar4.setFloatable(false);
        jToolBar4.setRollover(true);

        btnSimpanAktivitas.setIcon(new javax.swing.ImageIcon(getClass().getResource("/accept.png"))); // NOI18N
        btnSimpanAktivitas.setText("Simpan");
        btnSimpanAktivitas.setFocusable(false);
        btnSimpanAktivitas.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        btnSimpanAktivitas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSimpanAktivitasActionPerformed(evt);
            }
        });
        jToolBar4.add(btnSimpanAktivitas);

        btnRefresh.setIcon(new javax.swing.ImageIcon(getClass().getResource("/arrow_refresh.png"))); // NOI18N
        btnRefresh.setText("Refresh");
        btnRefresh.setFocusable(false);
        btnRefresh.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        btnRefresh.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnRefresh.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRefreshActionPerformed(evt);
            }
        });
        jToolBar4.add(btnRefresh);

        jLabel17.setText("Nama");

        btnLookup.setText("...");
        btnLookup.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLookupActionPerformed(evt);
            }
        });

        btnLookupProyek.setText("...");
        btnLookupProyek.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLookupProyekActionPerformed(evt);
            }
        });

        jLabel18.setText("Parent Task");

        btnLookupParentTask.setText("...");
        btnLookupParentTask.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLookupParentTaskActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlAktivitasLayout = new javax.swing.GroupLayout(pnlAktivitas);
        pnlAktivitas.setLayout(pnlAktivitasLayout);
        pnlAktivitasLayout.setHorizontalGroup(
            pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlAktivitasLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel12)
                    .addComponent(jLabel13)
                    .addComponent(jLabel15)
                    .addComponent(jLabel16)
                    .addComponent(jLabel17)
                    .addComponent(jLabel18))
                .addGap(18, 18, 18)
                .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlAktivitasLayout.createSequentialGroup()
                        .addComponent(txtParentTask, javax.swing.GroupLayout.PREFERRED_SIZE, 163, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnLookupParentTask))
                    .addGroup(pnlAktivitasLayout.createSequentialGroup()
                        .addComponent(txtPredesesor, javax.swing.GroupLayout.PREFERRED_SIZE, 163, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnLookup))
                    .addGroup(pnlAktivitasLayout.createSequentialGroup()
                        .addComponent(spinnerDurasi, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel14))
                    .addComponent(cmbAktivResource, javax.swing.GroupLayout.PREFERRED_SIZE, 369, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pnlAktivitasLayout.createSequentialGroup()
                        .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(txtAktivitasProyek, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtNmAktivitas, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 254, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnLookupProyek)))
                .addContainerGap())
            .addGroup(pnlAktivitasLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jToolBar4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(pnlAktivitasLayout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 765, Short.MAX_VALUE))
        );

        pnlAktivitasLayout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jLabel12, jLabel13, jLabel15, jLabel16, jLabel17});

        pnlAktivitasLayout.setVerticalGroup(
            pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlAktivitasLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12)
                    .addComponent(btnLookupProyek)
                    .addComponent(txtAktivitasProyek, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(txtNmAktivitas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel13)
                    .addComponent(jLabel14)
                    .addComponent(spinnerDurasi, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15)
                    .addComponent(cmbAktivResource, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel16)
                    .addComponent(txtPredesesor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnLookup))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlAktivitasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel18)
                    .addComponent(txtParentTask, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnLookupParentTask))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jToolBar4, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 312, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanel2.add(pnlAktivitas, "AKTIVITAS");

        pnlSimulasi.setBorder(javax.swing.BorderFactory.createTitledBorder("Simulasi"));

        javax.swing.GroupLayout pnlSimulasiLayout = new javax.swing.GroupLayout(pnlSimulasi);
        pnlSimulasi.setLayout(pnlSimulasiLayout);
        pnlSimulasiLayout.setHorizontalGroup(
            pnlSimulasiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 777, Short.MAX_VALUE)
        );
        pnlSimulasiLayout.setVerticalGroup(
            pnlSimulasiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 559, Short.MAX_VALUE)
        );

        jPanel2.add(pnlSimulasi, "SIMULASI");

        jSplitPane1.setRightComponent(jPanel2);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSplitPane1)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSplitPane1)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnGrupActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnGrupActionPerformed
        showPanel("GRUP");
        grupResources = JPlanner.getjPlannerService().findAll(GrupResource.class.getName());
        tblGrupResource.setModel(new GrupTableModul(grupResources));
    }//GEN-LAST:event_btnGrupActionPerformed

    private void btnProyekActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnProyekActionPerformed
        showPanel("PROYEK");
        fetchProyek();
    }//GEN-LAST:event_btnProyekActionPerformed

    private void btnResourceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnResourceActionPerformed
        showPanel("RESOURCE");
        initFormResource();
    }//GEN-LAST:event_btnResourceActionPerformed

    private void btnAktivitasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAktivitasActionPerformed
        showPanel("AKTIVITAS");
        initFormAktivitas();
    }//GEN-LAST:event_btnAktivitasActionPerformed

    private void initFormResource() {
        resetFormResource();
        grupResources = new ArrayList<GrupResource>();
        grupResources = JPlanner.getjPlannerService().findAll(GrupResource.class.getName());
        cmbGrup.removeAllItems();
        for (GrupResource gr : grupResources) {
            cmbGrup.addItem(gr);
        }
        resources = new ArrayList<Resource>();
        resources = JPlanner.getjPlannerService().findAll(Resource.class.getName());
        tblResource.setModel(new ResourceTableModel(resources));
    }
    
    private void btnSimpanProyekActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSimpanProyekActionPerformed
        if (validateFormProyek()) {
            loadFormToDomainProyek();
            JPlanner.getjPlannerService().save(proyek);
            resetFormProyek();
            proyeks = JPlanner.getjPlannerService().findAll(Proyek.class.getName());
            tblProyek.setModel(new ProyekTableModel(proyeks));
            proyek = null;
        } else {
            JOptionPane.showMessageDialog(this, 
                    "<html>Kolom isian bertanda <font color=\"red\">*</font> harus diisi !</html>", 
                    "Kesalahan !", 
                    JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_btnSimpanProyekActionPerformed

    private void btnRefreshProyekActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRefreshProyekActionPerformed
        proyeks = JPlanner.getjPlannerService().findAll(Proyek.class.getName());
        tblProyek.setModel(new ProyekTableModel(proyeks));
    }//GEN-LAST:event_btnRefreshProyekActionPerformed

    private void btnSimpanGrupResourceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSimpanGrupResourceActionPerformed
        if (txtNmGrup.getText().trim().length() > 0) {
            grupResource = new GrupResource();
            grupResource.setNama(txtNmGrup.getText());
            JPlanner.getjPlannerService().save(grupResource);
            tblGrupResource.setModel(new GrupTableModul(JPlanner.getjPlannerService().findAll(GrupResource.class.getName())));
            txtNmGrup.setText("");
        } else {
            JOptionPane.showMessageDialog(this, 
                    "<html>Kolom isian bertanda <font color=\"red\">*</font> harus diisi !</html>", 
                    "Kesalahan !", 
                    JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_btnSimpanGrupResourceActionPerformed

    private void btnSimpanResourceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSimpanResourceActionPerformed
        if (validateFormResource()) {
            loadFormToDomainResource();
            JPlanner.getjPlannerService().save(resource);
            initFormResource();
        } else {
            JOptionPane.showMessageDialog(this, 
                    "<html>Kolom isian bertanda <font color=\"red\">*</font> harus diisi !</html>", 
                    "Kesalahan !", 
                    JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_btnSimpanResourceActionPerformed

    private void btnSimulasiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSimulasiActionPerformed
        showPanel("SIMULASI");
    }//GEN-LAST:event_btnSimulasiActionPerformed

    private void resetFormAktivitas() {
        txtAktivitasProyek.setText("");
        cmbAktivResource.removeAllItems();
        spinnerDurasi.removeAllItems();
        txtNmAktivitas.setText("");
        txtPredesesor.setText("");
        
        proyek = null;
        proyeks = new ArrayList<Proyek>();
    }
    
    private void btnSimpanAktivitasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSimpanAktivitasActionPerformed
        aktivitas = new Aktivitas();
        aktivitas.setProyek(proyek);
//        aktivitas.setResource((Resource)cmbAktivResource.getSelectedItem());
        aktivitas.setNama(txtNmAktivitas.getText());
        aktivitas.setDurasi((Integer)spinnerDurasi.getSelectedItem());
        
        JPlanner.getjPlannerService().saveAktivitas(aktivitas);
        resetFormAktivitas();
        initFormAktivitas();
    }//GEN-LAST:event_btnSimpanAktivitasActionPerformed

    private void btnRefreshActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRefreshActionPerformed
        tblAktivitas.setModel(new AktifitasTableModel(JPlanner.getjPlannerService().findAll(Aktivitas.class.getName())));
    }//GEN-LAST:event_btnRefreshActionPerformed

    private void btnLookupActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLookupActionPerformed
         List<Aktivitas> akts = new DialogPredesesor().showDialog();
         StringBuilder sb = new StringBuilder();
         if (!akts.isEmpty()) {
             for (Aktivitas ak : akts) {
                sb.append(ak.getId()).append(";");
            }

            txtPredesesor.setText(sb.toString());
         }
    }//GEN-LAST:event_btnLookupActionPerformed

    private void btnLookupProyekActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLookupProyekActionPerformed
        proyek = new DialogProyek().showDialog();
        if (proyek != null) {
            txtAktivitasProyek.setText(proyek.getNamaProyek());
            
            // utk durasi hitung dengan cara sbb :
            // ambil semua aktivitas di project ini yg durasi-nya paling lama
            // trs kurangin durasi proyek dgn nilai durasi terlama
            Integer durasiTerlama = JPlanner.getjPlannerService().findAktivitasByProject(proyek);
            System.out.println(">> Durasi " + durasiTerlama);
            spinnerDurasi.removeAllItems();
            for (int i=1; i<=proyek.getBatasHari()-durasiTerlama; i++) {
                spinnerDurasi.addItem(i);
            }
        }
    }//GEN-LAST:event_btnLookupProyekActionPerformed

    private void btnLookupParentTaskActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLookupParentTaskActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnLookupParentTaskActionPerformed

    private void initFormAktivitas() {
        resources = new ArrayList<Resource>();
        resources = JPlanner.getjPlannerService().findAvailableResource(Resource.class.getName());
        cmbAktivResource.removeAllItems();
        for (Resource r : resources) {
            cmbAktivResource.addItem(r);
        }
        
        tblAktivitas.setModel(new AktifitasTableModel(JPlanner.getjPlannerService().findAll(Aktivitas.class.getName())));
    }
    
    private void showPanel(String panelName) {
        CardLayout cl = (CardLayout) (jPanel2.getLayout());
        cl.show(jPanel2, panelName);
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JToggleButton btnAktivitas;
    private javax.swing.JToggleButton btnGrup;
    private javax.swing.JButton btnLookup;
    private javax.swing.JButton btnLookupParentTask;
    private javax.swing.JButton btnLookupProyek;
    private javax.swing.JToggleButton btnProyek;
    private javax.swing.JButton btnRefresh;
    private javax.swing.JButton btnRefreshProyek;
    private javax.swing.JToggleButton btnResource;
    private javax.swing.JButton btnSimpanAktivitas;
    private javax.swing.JButton btnSimpanGrupResource;
    private javax.swing.JButton btnSimpanProyek;
    private javax.swing.JButton btnSimpanResource;
    private javax.swing.JToggleButton btnSimulasi;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JComboBox cmbAktivResource;
    private javax.swing.JComboBox cmbGrup;
    private javax.swing.JComboBox cmbTipe;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JSplitPane jSplitPane1;
    private javax.swing.JToolBar jToolBar1;
    private javax.swing.JToolBar jToolBar2;
    private javax.swing.JToolBar jToolBar3;
    private javax.swing.JToolBar jToolBar4;
    private javax.swing.JPanel pnlAktivitas;
    private javax.swing.JPanel pnlGrup;
    private javax.swing.JPanel pnlProyek;
    private javax.swing.JPanel pnlResource;
    private javax.swing.JPanel pnlSimulasi;
    private javax.swing.JComboBox spinnerDurasi;
    private javax.swing.JTable tblAktivitas;
    private javax.swing.JTable tblGrupResource;
    private javax.swing.JTable tblProyek;
    private javax.swing.JTable tblResource;
    private javax.swing.JTextField txtAktivitasProyek;
    private javax.swing.JTextField txtBatasBiaya;
    private javax.swing.JTextField txtBatasHari;
    private javax.swing.JTextField txtBiaya;
    private javax.swing.JTextField txtBudget;
    private javax.swing.JTextField txtJmlOrg;
    private javax.swing.JTextField txtMinProfit;
    private javax.swing.JTextField txtNamaProyek;
    private javax.swing.JTextField txtNamaResource;
    private javax.swing.JTextField txtNmAktivitas;
    private javax.swing.JTextField txtNmGrup;
    private javax.swing.JTextField txtParentTask;
    private javax.swing.JTextField txtPredesesor;
    // End of variables declaration//GEN-END:variables
}
